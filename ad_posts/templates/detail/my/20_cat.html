{% extends "bases/base.html" %}
{% block title %}{{ ad.title }}{% endblock %}
{% block content %}

{% include "detail/my/page_title.html" %}

<section class="content">
    <section class="block">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                  {% include 'ad_images.html' %}

                    <section>
                        <h2>Описание</h2>
                        <p>{{ ad.description }}</p>
                    </section>

                    <section>
                        <h2>Детали</h2>
                        <div class="row">
                          <div class="col-md-8">
                              <dl>
                                <dt>Категория</dt>             <dd> {{ ad.category.category }}</dd>
                                <dt>Подкатегория</dt>          <dd> {{ ad.category }}</dd>

                                <dt>Требуемый опыт</dt><dd> {{ ad.job.required_experience }}</dd>
                                <dt>График работы</dt><dd> {{ ad.job.work_schedule }}</dd>
                                <dt>Тип занятости</dt><dd> {{ ad.job.type_of_employment }}</dd>
                                <dt>Характер работы</dt><dd> {{ ad.job.nature_work }}</dd>
                                <dt>Заработная плата</dt><dd> {{ ad.job.money }}</dd>
                                <dt>Другие условия</dt><dd> {{ ad.job.other }}</dd>
                                <dt>Компания</dt><dd> {{ ad.job.company }}</dd>
                                <dt>Зарплата</dt><dd> {{ ad.job.pay }}</dd>
                              </dl>
                          </div>
                       </div>
                    </section>
                </div>

                <div class="col-md-4">
                    <aside class="sidebar">

                      {% include 'section_simular.html' %}

                    </aside>
                </div>
            </div>
        </div>
    </section>
</section>


<script>
var ready = (callback) => {if (document.readyState != "loading") callback();else document.addEventListener("DOMContentLoaded", callback)}

ready(() => {
  var list = document.querySelectorAll('dd');
  var count = list.length;
  for(i=0; i<count; i++) {
    if(list[i].innerHTML == " " || list[i].innerHTML == " False" ){
      list[i].previousElementSibling.remove();
      list[i].remove();
    }
    else if(list[i].innerHTML == " True"){
      list[i].innerHTML = "Есть";
      list[i].classList.add("current_dd");
    }
    else{
      list[i].classList.add("current_dd")
    }}
})
</script>
{% endblock %}
